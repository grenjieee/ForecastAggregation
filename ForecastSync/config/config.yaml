# 服务器配置
server:
  port: 8081
  mode: debug

# 数据库配置
mysql:
  dsn: "postgres://postgres:postgres@127.0.0.1:5433/forecast_aggregation?sslmode=disable&TimeZone=Asia/Shanghai"
  max_open_conns: 20
  max_idle_conns: 10
  conn_max_lifetime: 3600s

# 同步配置（支持多平台独立调度）
sync:
  cron: "0 */1 * * *"  # 全局同步周期
  enabled_platforms: ["polymarket", "kalshi"]  # 启用的平台（当前仅对接这两个）

# 各平台独立配置
platforms:
  # Polymarket配置
  polymarket:
    base_url: "https://gamma-api.polymarket.com"
    protocol: "rest"
    timeout: 10
    retry_count: 2
    auth_token: ""
    #代理地址
    proxy: "http://127.0.0.1:7890"
    # 最小下注金额
    min_bet: 1
    # 最大下注金额
    max_bet: 1

  kalshi:
    # 官方文档: https://docs.kalshi.com/api-reference/events/get-events
    base_url: "https://api.elections.kalshi.com/trade-api/v2"
    sport_path: "/markets" # 预留
    # 仅拉取体育时：可填单个 series_ticker 覆盖；不填则从 GET /series 拉取体育类 series 并缓存约 4 小时，再按这些 ticker 请求 events
    series_ticker: ""
    protocol: "rest"
    timeout: 60 # 超时（秒）；走代理或拉取 with_nested_markets 时响应较慢，建议 30~60
    retry_count: 3 # 重试次数
    auth_key: "YOUR_KALSHI_API_KEY" # 替换为你的Kalshi API Key
    auth_secret: "YOUR_KALSHI_API_SECRET" # 替换为你的Kalshi API Secret
    #代理地址
    proxy: "http://127.0.0.1:7890"
    # 最小下注金额
    min_bet: 1
    # 最大下注金额
    max_bet: 1
